</form>
</main>
<!-- Upload Modal -->
<div class="modal fade" id="modal-uploadxml" tabindex="-1" aria-labelledby="modal-uploadxml" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modal-uploadxml"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="input-uploadxml-file" class="form-label" data-translate="modals.upload.title">Select XML file:</label>
                    <input class="form-control" type="file" id="input-uploadxml-file" accept=".xml">
                </div>

                <div class="drop-zone mb-3 p-5 border rounded text-center" id="panel-uploadxml-dropfile">
                    <p class="mb-0" data-translate="modals.upload.dropZoneInfo">Drop XML file here</p>
                </div>
                <div class="alert alert-info d-none" id="xml-upload-status"></div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="modal-help" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="helpModalLabel" data-translate="header.help">Help</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Section of guide is inserted dynamically here -->
            </div>
        </div>
    </div>
</div>
<!-- Notification Modal -->
<div class="modal fade" id="modal-notification" tabindex="-1" aria-labelledby="modal-notification-label"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modal-notification-label">Notification</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="modal-notification-body">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">OK</button>
            </div>
        </div>
    </div>
</div>
<!-- Changelog Modal -->
<div class="modal fade" id="modal-changelog" tabindex="-1" aria-labelledby="label-changelog-modal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="label-changelog-modal" data-translate="modals.changelog.aboutHeading">About ELMO - Enhanced Laboratory Metadata Organizer</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p class="lead text-center fs-6" data-translate="modals.changelog.aboutText">
                    The ELMO Metadata Editor was developed in 2024 by students of the University of Applied Sciences
                    Potsdam in cooperation with the German Research Centre for Geosciences and is released under the GNU
                    General Public License, Version 2.
                </p>
                <hr>
                <!-- Changelog -->
                <h5 data-translate="modals.changelog.title">Changelog</h5>
                <div id="panel-changelog-content">
                    <!-- Content will be loaded from doc/changelog.html -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- Save As Modal -->
<div class="modal fade" id="modal-saveas" tabindex="-1" aria-labelledby="label-saveas-modal" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="label-saveas-modal"data-translate="modals.save.saveAs">
                    Save as XML
                </h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="SchlieÃŸen"></button>
            </div>
            <div class="modal-body">
                <form id="form-saveas-filename">
                    <div class="mb-3">
                        <label for="input-saveas-filename" class="form-label" data-translate="modals.save.filename">
                            Filename
                        </label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="input-saveas-filename">
                            <span class="input-group-text">.xml</span>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-translate="general.cancel">
                    Cancel
                </button>
                <button type="button" class="btn btn-primary" id="button-saveas-save" data-translate="modals.save.save">
                    Save
                </button>
            </div>
        </div>
    </div>
</div>
<!-- Submit Modal -->
<div class="modal fade" id="modal-submit" tabindex="-1" aria-labelledby="modal-submit-label" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modal-submit-label" data-translate="modals.submit.title">Submit Dataset</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="modal-submit-form">
            <!-- Publication urgency dropdown -->
            <div class="mb-3">
              <label for="input-submit-urgency" class="form-label" data-translate="modals.submit.urgency">Urgency</label>
              <select class="form-select" id="input-submit-urgency">
                <option value="" data-translate="modals.submit.urgencyNotice" selected disabled>Please select an urgency</option>
                <option value="2" data-translate="modals.submit.high">high (2 weeks)</option>
                <option value="4" data-translate="modals.submit.normal">normal (4 weeks)</option>
                <option value="6" data-translate="modals.submit.low">low (6 weeks)</option>
              </select>
            </div>
            <!-- Data URL -->
            <div class="mb-3">
              <label for="input-submit-dataurl" class="form-label" data-translate="modals.submit.url">URL to data</label>
              <input type="url" class="form-control" id="input-submit-dataurl" placeholder="https://...">
            </div>
            <!-- PDF upload -->
            <div class="mb-3">
                <label for="input-submit-datadescription" class="form-label" data-translate="modals.submit.dataDescription">Data
                    Description (as mentioned in the Data Description Template)</label>
                <div class="input-group">
                    <input type="file" class="form-control" id="input-submit-datadescription" accept=".pdf,.doc,.docx">
                    <button class="btn btn-outline-danger" type="button" id="remove-file-btn" style="display: none;">
                        <i class="bi bi-x-lg"></i>
                    </button>
                </div>
                <small class="form-text text-muted" id="selected-file-name"></small>
            </div>
            <!-- Privacy policy checkbox -->
            <div class="mb-3 form-check">
              <input type="checkbox" class="form-check-input" id="input-submit-privacycheck" required>
              <label class="form-check-label" for="input-submit-privacycheck" data-translate="modals.submit.privacypolice">
                I have read the privacy policy and agree to the transmission of my data.
              </label>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-translate="general.cancel">Cancel</button>
          <button type="button" class="btn btn-success" id="button-submit-submit" data-translate="buttons.submit" disabled>Submit</button>
        </div>
      </div>
    </div>
  </div>
<!-- Feedback Modal -->
<div class="modal fade" id="modal-feedback" tabindex="-1" aria-labelledby="label-feedbackmodal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="label-feedbackmodal" data-translate="modals.feedback.title"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div id="panel-feedback-status"></div>
                <div id="panel-feedback-message"
                    style="display: none; color: green; font-size: 1.2em; text-align: center; margin-bottom: 20px;"
                    data-translate="modals.feedback.thankYou"></div>

                <form id="form-feedback" method="POST" action="send_feedback_mail.php">
                    <div class="mb-3">
                        <label for="input-feedback-question1" class="form-label"
                            data-translate="modals.feedback.question1"></label>
                        <textarea class="form-control" id="input-feedback-question1" name="feedbackQuestion1" rows="3"
                            required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="input-feedback-question2" class="form-label"
                            data-translate="modals.feedback.question2"></label>
                        <textarea class="form-control" id="input-feedback-question2" name="feedbackQuestion2" rows="3"
                            required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="input-feedback-question3" class="form-label"
                            data-translate="modals.feedback.question3"></label>
                        <textarea class="form-control" id="input-feedback-question3" name="feedbackQuestion3" rows="3"
                            required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="input-feedback-question4" class="form-label"
                            data-translate="modals.feedback.question4"></label>
                        <textarea class="form-control" id="input-feedback-question4" name="feedbackQuestion4" rows="3"
                            required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="input-feedback-question5" class="form-label"
                            data-translate="modals.feedback.question5"></label>
                        <textarea class="form-control" id="input-feedback-question5" name="feedbackQuestion5" rows="3"
                            required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="input-feedback-question6" class="form-label"
                            data-translate="modals.feedback.question6"></label>
                        <textarea class="form-control" id="input-feedback-question6" name="feedbackQuestion6" rows="3"
                            required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="input-feedback-question7" class="form-label"
                            data-translate="modals.feedback.question7"></label>
                        <textarea class="form-control" id="input-feedback-question7" name="feedbackQuestion7" rows="3"
                            required></textarea>
                    </div>
                    <button class="btn btn-primary" id="button-feedback-send" style="margin-left: auto; display: block;"
                        data-translate="modals.feedback.sendButton"></button>
                </form>
            </div>
        </div>
    </div>
</div>